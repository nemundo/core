<?phpnamespace Nemundo\Core\Archive;use Nemundo\Core\File\File;use Nemundo\Core\Log\LogMessage;use Nemundo\Core\Path\Path;class Bz2Extractor extends AbstractExtractor{    /**     * @var string     */    public $extractFilename;    public function extractArchive()    {        if (!$this->checkProperty(['extractFilename', 'extractPath'])) {            return;        }        if ((new File($this->archiveFilename))->fileNotExists()) {            (new LogMessage())->writeError('Filename not exist. ' . $this->archiveFilename);            return null;        }        (new Path($this->extractPath))->createPath();        $outputFilename = $this->extractPath . DIRECTORY_SEPARATOR . $this->extractFilename;        $bz = bzopen($this->archiveFilename, 'r');        $filePointer = fopen($outputFilename, 'w+');        do {            $line = bzread($bz, 8092);            if ($line !== false) {                fwrite($filePointer, $line);            }        } while ($line);        bzclose($bz);        return $outputFilename;    }}